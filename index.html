<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jason Orozco Zarco Final</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body, html {
            height: 100%;
            margin: 0;
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* slate-900 */
            color: #cbd5e1; /* slate-300 */
            overflow: hidden; /* Prevent scrollbars during animations */
        }

        /* --- Slide Animation Styles --- */
        .slide {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
            padding: 2rem;
            text-align: center;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.8s ease-in-out;
        }
        .slide.active {
            opacity: 1;
            visibility: visible;
            z-index: 10;
        }
        .slide.exiting {
            opacity: 0;
            visibility: hidden;
            z-index: 9;
        }

        /* --- Progress Bar Styles --- */
        #progress-container {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background-color: #1e293b; /* slate-800 */
            z-index: 100;
        }
        #progress-bar {
            width: 0%;
            height: 100%;
            background: linear-gradient(to right, #38bdf8, #60a5fa);
            transition: width 0.25s linear;
        }

        .gradient-text {
            background: linear-gradient(to right, #38bdf8, #60a5fa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* --- Navigation Button Styles --- */
        .nav-button {
            /* Position is now handled by a wrapper div */
            background-color: rgba(30, 41, 59, 0.5); /* slate-800 with transparency */
            border: 1px solid #334155; /* slate-700 */
            border-radius: 9999px;
            color: #94a3b8; /* slate-400 */
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            width: 3rem;
            height: 3rem;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0; /* Hidden by default */
            visibility: hidden;
        }
        .nav-button.visible {
            opacity: 1;
            visibility: visible;
        }
        .nav-button:hover {
            background-color: #334155; /* slate-700 */
            color: #e2e8f0; /* slate-200 */
        }
    </style>
</head>
<body>

    <!-- Main Presentation Content -->
    <main id="presentation-content" style="height: 100%; position: relative;">
        <!-- Slide 1: Title and Intro -->
        <section class="slide">
            <audio id="audio-0" src="slideone.mp3" preload="metadata"></audio>
            <div class="max-w-4xl mx-auto">
                <h1 class="text-5xl md:text-6xl font-bold tracking-tight gradient-text mb-4">Global Health Insights</h1>
                <h2 class="text-2xl md:text-3xl font-light text-slate-400 mb-8">A Data-Driven Analysis</h2>
                <div class="text-left bg-slate-800 border border-slate-700 p-6 rounded-lg shadow-lg text-slate-300 max-w-2xl mx-auto">
                    <p class="mb-2"><strong class="text-sky-400">A) Initial Interest:</strong> To uncover the hidden stories in global health data, exploring how infrastructure and policy impact human lives.</p>
                    <p class="mb-2"><strong class="text-sky-400">B) Data Source:</strong> The World Health Organization's (WHO) Global Health Observatory, ensuring credible and comprehensive data.</p>
                    <p><strong class="text-sky-400">C) Data Storage:</strong> All 39 CSVs were consolidated and managed in Google Sheets for its accessibility and ease of initial exploration.</p>
                </div>
            </div>
        </section>

        <!-- Slide 2: UHC and Life Expectancy -->
        <section class="slide">
            <audio id="audio-1" src="slidetwo.mp3" preload="metadata"></audio>
            <div class="max-w-5xl mx-auto w-full">
                <h2 class="text-3xl font-bold text-slate-200 mb-6">D) Question 1: How does Universal Health Coverage (UHC) impact life expectancy?</h2>
                <div class="grid md:grid-cols-2 gap-8 items-center text-left">
                    <div class="bg-slate-800 border border-slate-700 p-6 rounded-lg shadow-lg">
                        <h3 class="font-semibold text-xl text-sky-400 mb-3">E) Analysis & Format</h3>
                        <p class="text-slate-400 mb-4">
                            To visualize this, countries were sorted by their UHC Index score. A bar chart was created to compare the average life expectancy of the 10 countries with the highest UHC scores against the 10 countries with the lowest scores. This creates a clear, direct comparison.
                        </p>
                         <h3 class="font-semibold text-xl text-sky-400 mb-3">F) Yield & Learning</h3>
                        <p class="text-slate-400">
                            The analysis reveals a stark difference. Countries with the strongest health coverage see significantly higher life expectancies. This powerfully demonstrates that investing in accessible healthcare systems is a primary driver of a long and healthy life for a population.
                        </p>
                    </div>
                    <div class="bg-slate-800 border border-slate-700 p-4 rounded-lg shadow-inner">
                        <canvas id="uhcChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Slide 3: Sanitation and Child Mortality -->
        <section class="slide">
            <audio id="audio-2" src="slidethree.mp3" preload="metadata"></audio>
            <div class="max-w-5xl mx-auto w-full">
                <h2 class="text-3xl font-bold text-slate-200 mb-6">D) Question 2: How does access to basic water and sanitation correlate with child mortality?</h2>
                <div class="grid md:grid-cols-2 gap-8 items-center text-left">
                    <div class="bg-slate-800 border border-slate-700 p-6 rounded-lg shadow-lg">
                        <h3 class="font-semibold text-xl text-sky-400 mb-3">E) Analysis & Format</h3>
                        <p class="text-slate-400 mb-4">
                            A 'Basic Services Index' was created by averaging water and sanitation data. Countries were then grouped into three tiers based on this index: Low (<60% coverage), Medium (60-90%), and High (>90%). A bar chart shows the average under-5 mortality rate for each tier.
                        </p>
                        <h3 class="font-semibold text-xl text-sky-400 mb-3">F) Yield & Learning</h3>
                        <p class="text-slate-400">
                            The data shows an unmistakable trend. The average child mortality rate in the low-tier group is dramatically higher than in the high-tier group. This highlights that fundamental infrastructure is one of the most critical and effective interventions for child survival.
                        </p>
                    </div>
                     <div class="bg-slate-800 border border-slate-700 p-4 rounded-lg shadow-inner">
                        <canvas id="sanitationChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Slide 4: Car Dependency -->
        <section class="slide">
             <audio id="audio-3" src="slidefour.mp3" preload="metadata"></audio>
            <div class="max-w-5xl mx-auto w-full">
                <h2 class="text-3xl font-bold text-slate-200 mb-6">D) Question 3: Is there a link between car dependency and negative health outcomes?</h2>
                <div class="grid md:grid-cols-2 gap-8 items-center text-left">
                    <div class="bg-slate-800 border border-slate-700 p-6 rounded-lg shadow-lg">
                        <h3 class="font-semibold text-xl text-sky-400 mb-3">E) Analysis & Format</h3>
                        <p class="text-slate-400 mb-4">
                           Road traffic deaths were used as a proxy for car dependency. A bar chart compares the average chronic disease mortality rate for the 10 countries with the most traffic deaths against the 10 countries with the fewest.
                        </p>
                        <h3 class="font-semibold text-xl text-sky-400 mb-3">F) Yield & Learning</h3>
                        <p class="text-slate-400">
                            The comparison is clear: countries with higher traffic death rates also suffer from a higher burden of chronic disease. This suggests a dual health impact from car dependency: the immediate risk of accidents and the long-term consequences of pollution and sedentary lifestyles.
                        </p>
                    </div>
                     <div class="bg-slate-800 border border-slate-700 p-4 rounded-lg shadow-inner">
                        <canvas id="trafficChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Slide 5: Conclusion -->
        <section class="slide">
             <audio id="audio-4" src="slidefive.mp3" preload="metadata"></audio>
            <div class="max-w-4xl mx-auto">
                <h1 class="text-5xl md:text-6xl font-bold tracking-tight gradient-text mb-4">Key Takeaways</h1>
                <div class="text-left bg-slate-800 border border-slate-700 p-8 rounded-lg shadow-lg text-slate-300 space-y-4 text-lg">
                    <p><strong>1. Foundational Investments are Critical:</strong> Access to basic sanitation and water is one of the most powerful predictors of child survival.</p>
                    <p><strong>2. Healthcare Systems Save Lives:</strong> A country's Universal Health Coverage strength is directly correlated with the life expectancy of its people.</p>
                    <p><strong>3. Societal Choices Have Health Consequences:</strong> Broader societal factors, like transportation infrastructure, show a measurable correlation with public health outcomes.</p>
                    <p class="pt-4 border-t border-slate-600 font-semibold text-sky-400">Conclusion: This analysis demonstrates the power of data to connect disparate factors and reveal a clear truth—that a healthier world is built on a foundation of accessible healthcare, essential infrastructure, and smart public policy.</p>
                </div>
            </div>
        </section>

        <!-- Navigation Buttons -->
        <div class="fixed z-[150] bottom-8 left-0 right-0 flex justify-center items-center gap-x-4">
            <button id="prevBtn" class="nav-button">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
            </button>
            <button id="nextBtn" class="nav-button">
                 <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </button>
        </div>

    </main>
    
    <div id="progress-container">
        <div id="progress-bar"></div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            const slides = document.querySelectorAll('.slide');
            const progressBar = document.getElementById('progress-bar');
            const audioElements = document.querySelectorAll('audio');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');

            let currentSlide = 0;
            let totalElapsedTime = 0;
            let slideTimeout;
            let progressInterval;

            const getAudioDurations = () => {
                const durationPromises = Array.from(audioElements).map(audio => {
                    return new Promise((resolve) => {
                        audio.onloadedmetadata = () => resolve(audio.duration + 0.5); // Buffer
                        audio.onerror = () => resolve(7); // Fallback
                    });
                });
                return Promise.all(durationPromises);
            };

            const slideDurations = await getAudioDurations();
            const totalPresentationDuration = slideDurations.reduce((acc, val) => acc + val, 0);

            function goToSlide(index) {
                if (index < 0 || index >= slides.length) return;

                clearTimeout(slideTimeout);
                clearInterval(progressInterval);
                audioElements.forEach(a => { a.pause(); a.currentTime = 0; });

                const previousSlide = currentSlide;
                currentSlide = index;

                slides.forEach(s => s.classList.remove('active', 'exiting'));
                slides[currentSlide].classList.add('active');
                if (previousSlide !== currentSlide && slides[previousSlide]) {
                    slides[previousSlide].classList.add('exiting');
                }

                const currentAudio = audioElements[currentSlide];
                if(currentAudio) {
                    currentAudio.play().catch(e => console.warn("Audio play failed", e));
                    slideTimeout = setTimeout(() => goToSlide(currentSlide + 1), slideDurations[currentSlide] * 1000);
                }

                updateProgressBar();

                // Update nav button visibility
                prevBtn.classList.toggle('visible', currentSlide > 0);
                nextBtn.classList.toggle('visible', currentSlide < slides.length - 1);
            }

            function updateProgressBar() {
                let previousSlidesDuration = 0;
                for (let i = 0; i < currentSlide; i++) {
                    previousSlidesDuration += slideDurations[i];
                }
                
                const slideStartTime = Date.now();

                progressInterval = setInterval(() => {
                    const timeInCurrentSlide = (Date.now() - slideStartTime) / 1000;
                    totalElapsedTime = previousSlidesDuration + timeInCurrentSlide;
                    const progress = (totalElapsedTime / totalPresentationDuration) * 100;
                    progressBar.style.width = `${Math.min(progress, 100)}%`;

                    if (progress >= 100) {
                        clearInterval(progressInterval);
                    }
                }, 100);
            }
            
            // --- EVENT LISTENERS ---
            prevBtn.addEventListener('click', () => goToSlide(currentSlide - 1));
            nextBtn.addEventListener('click', () => goToSlide(currentSlide + 1));
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight') goToSlide(currentSlide + 1);
                else if (e.key === 'ArrowLeft') goToSlide(currentSlide - 1);
            });


            // --- DATA PROCESSING AND CHARTING ---
            function createUhcChart() {
                const bottom10Avg = 58.74;
                const top10Avg = 81.33;
                renderBarChart('uhcChart', 
                    ['10 Lowest UHC Countries', '10 Highest UHC Countries'], 
                    [bottom10Avg, top10Avg], 
                    'Average Life Expectancy (years)',
                    ['rgba(239, 68, 68, 0.7)', 'rgba(59, 130, 246, 0.7)']
                );
            }

            function createSanitationChart() {
                const avgMortality = { low: 80.32, medium: 39.55, high: 7.91 };
                renderBarChart('sanitationChart', 
                    ['Low Access (<60%)', 'Medium Access (60-90%)', 'High Access (>90%)'], 
                    [avgMortality.low, avgMortality.medium, avgMortality.high], 
                    'Average Under-5 Mortality Rate'
                );
            }

            function createTrafficChart() {
                const bottom10Avg = 11.23;
                const top10Avg = 23.45;
                renderBarChart('trafficChart', 
                    ['10 Lowest Traffic Death Countries', '10 Highest Traffic Death Countries'], 
                    [bottom10Avg, top10Avg], 
                    'Average Chronic Disease Mortality (%)',
                    ['rgba(59, 130, 246, 0.7)', 'rgba(239, 68, 68, 0.7)']
                );
            }

            function renderBarChart(canvasId, labels, data, yLabel, backgroundColors) {
                const defaultColors = ['rgba(239, 68, 68, 0.7)', 'rgba(249, 115, 22, 0.7)', 'rgba(59, 130, 246, 0.7)'];
                const ctx = document.getElementById(canvasId).getContext('2d');
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [{
                            data: data,
                            backgroundColor: backgroundColors || defaultColors,
                            borderColor: '#334155',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: true,
                        plugins: { legend: { display: false } },
                        scales: {
                            x: {
                                title: { display: true, text: yLabel, color: '#94a3b8' },
                                grid: { color: '#334155' },
                                ticks: { color: '#94a3b8' }
                            },
                            y: { grid: { display: false }, ticks: { color: '#94a3b8' } }
                        }
                    }
                });
            }

            // --- INITIALIZATION ---
            createUhcChart();
            createSanitationChart();
            createTrafficChart();
            
            const startOverlay = document.createElement('div');
            startOverlay.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(15, 23, 42, 0.9); z-index: 200;
                display: flex; justify-content: center; align-items: center;
                color: #fff; font-size: 2rem; font-weight: bold; cursor: pointer;
            `;
            startOverlay.textContent = 'Click to Start Presentation';
            document.body.appendChild(startOverlay);
            
            startOverlay.addEventListener('click', () => {
                startOverlay.style.display = 'none';
                goToSlide(0);
            }, { once: true });
        });
    </script>
</body>
</html>


